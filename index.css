:root{
  --size: 220px;          /* diámetro del pastel */
  --shadow: 0 12px 28px rgba(0,0,0,.18);
  --c1: #0f172a;
  --c2: #1e293b;
  --c3: #334155;
}

/* Contenedor circular fijo */
.pie{
  position: fixed;
  top: 1rem;
  right: 1rem;
  width: var(--size);
  height: var(--size);
  border-radius: 50%;
  box-shadow: var(--shadow);
  background:
    conic-gradient(
      var(--c1) 0deg 120deg,
      var(--c2) 120deg 240deg,
      var(--c3) 240deg 360deg
    );
  isolation: isolate;
}

/* Cada porción es un <a> que recorta su sector y LUEGO rotamos */
.pie a{
  position: absolute;
  inset: 0;
  color: #fff;
  text-decoration: none;
  font: 600 15px/1.1 system-ui, Arial, sans-serif;

  /* triángulo sector (del centro al lado derecho) */
  clip-path: polygon(50% 50%, 100% 0%, 100% 100%);
  display: grid;
  place-items: center;

  transform-origin: 50% 50%;
  transition: filter .2s ease, transform .2s ease;
}

/* Ángulo de cada porción (guardado en --rot) */
.pie a{           --rot: 0deg;   transform: rotate(var(--rot)); }
.pie a:nth-child(2){ --rot: 120deg; transform: rotate(var(--rot)); }
.pie a:nth-child(3){ --rot: 240deg; transform: rotate(var(--rot)); }

/* ===== Texto horizontal y centrado dentro de cada rebanada =====
   1) Nos colocamos en el centro (50%,50%)
   2) Giramos en CONTRA del sector y además -60deg (bisector del sector)
   3) Nos alejamos hacia el borde (translateX)
   4) Devolvemos el giro para que el texto quede horizontal ( +60deg ) */
.pie a > span{
  position: absolute;
  left: 50%; top: 50%;
  transform:
    rotate(calc(-1 * var(--rot) - 60deg))
    translateX(calc(var(--size) * .23))
    rotate(calc(var(--rot) + 60deg));
  transform-origin: center;
  white-space: nowrap;
  text-align: center;
  text-shadow: 0 2px 6px rgba(0,0,0,.35);
  pointer-events: none; /* el clic lo recibe toda la porción */
}

/* Hover bonito sin descolocar el sector */
.pie a:hover{
  filter: brightness(1.15) contrast(1.1);
  transform: rotate(var(--rot)) scale(1.02);
  z-index: 1;
}

/* Responsive */
@media (max-width: 560px){
  :root{ --size: 170px; }
  .pie a > span{
    transform:
      rotate(calc(-1 * var(--rot) - 60deg))
      translateX(calc(var(--size) * .22))
      rotate(calc(var(--rot) + 60deg));
    font-size: 13px;
  }
}
